{
    "class": "Workflow",
    "cwlVersion": "v1.0",
    "id": "full_workflow_notcompact",
    "label": "full_workflow_notcompact",
    "$namespaces": {
        "sbg": "https://www.sevenbridges.com/"
    },
    "inputs": [
        {
            "id": "fastq2",
            "type": "File",
            "sbg:x": 0,
            "sbg:y": 856.125
        },
        {
            "id": "fastq1",
            "type": "File",
            "sbg:x": 3.640144109725952,
            "sbg:y": 991.9336547851562
        },
        {
            "id": "illumina_adapters_file",
            "type": "File",
            "sbg:x": 0,
            "sbg:y": 642.09375
        },
        {
            "id": "ref_seq",
            "type": "File",
            "sbg:x": 0,
            "sbg:y": 321.046875
        },
        {
            "id": "sam_name",
            "type": "string",
            "sbg:x": 0,
            "sbg:y": 214.03125
        },
        {
            "id": "Sample",
            "type": "string",
            "sbg:x": 0,
            "sbg:y": 107.015625
        },
        {
            "id": "Platform",
            "type": "string",
            "sbg:x": 0,
            "sbg:y": 535.078125
        },
        {
            "id": "Library",
            "type": "string",
            "sbg:x": 989.827880859375,
            "sbg:y": 481.5703125
        },
        {
            "id": "Barcode",
            "type": "string",
            "sbg:x": 989.827880859375,
            "sbg:y": 588.5859375
        },
        {
            "id": "bed_file",
            "type": "File",
            "sbg:x": 1183.343505859375,
            "sbg:y": 588.5859375
        },
        {
            "id": "dbSNP_vcf",
            "type": "File",
            "sbg:x": 1183.343505859375,
            "sbg:y": 481.5703125
        },
        {
            "id": "PoN_vcf",
            "type": "File",
            "sbg:x": 0,
            "sbg:y": 428.0625
        },
        {
            "id": "gnomad_vcf",
            "type": "File",
            "sbg:x": 0,
            "sbg:y": 749.109375
        },
        {
            "id": "Depth",
            "type": "string",
            "sbg:x": 2060.148193359375,
            "sbg:y": 602.5859375
        },
        {
            "id": "AF",
            "type": "string",
            "sbg:x": 2060.148193359375,
            "sbg:y": 709.6015625
        },
        {
            "id": "VEP_cache_path",
            "type": "Directory",
            "sbg:x": 0,
            "sbg:y": 0
        },
        {
            "id": "plugins_path",
            "type": "Directory?",
            "sbg:x": 2322.893798828125,
            "sbg:y": 307.046875
        },
        {
            "id": "plugin_name",
            "type": "string?",
            "sbg:x": 2322.893798828125,
            "sbg:y": 414.0625
        },
        {
            "id": "output_type",
            "type": "string",
            "sbg:x": 2322.893798828125,
            "sbg:y": 521.078125
        }
    ],
    "outputs": [
        {
            "id": "r1_unpaired",
            "outputSource": [
                "trimmomatic_nugen/r1_unpaired"
            ],
            "type": "File",
            "sbg:x": 522.3973388671875,
            "sbg:y": 400.0625
        },
        {
            "id": "r2_unpaired",
            "outputSource": [
                "trimmomatic_nugen/r2_unpaired"
            ],
            "type": "File",
            "sbg:x": 522.3973388671875,
            "sbg:y": 293.046875
        },
        {
            "id": "plots_pdf",
            "outputSource": [
                "gatk_analyzecovariates/plots_pdf"
            ],
            "type": "File",
            "sbg:x": 2060.148193359375,
            "sbg:y": 253.5390625
        },
        {
            "id": "output",
            "outputSource": [
                "vep_annotation/output"
            ],
            "type": "File",
            "sbg:x": 2822.28076171875,
            "sbg:y": 481.5703125
        }
    ],
    "steps": [
        {
            "id": "fastqc",
            "in": [
                {
                    "id": "fastq1",
                    "source": "trimmomatic_nugen/r1_paired"
                },
                {
                    "id": "fastq2",
                    "source": "trimmomatic_nugen/r2_paired"
                }
            ],
            "out": [],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "fastqc",
                "baseCommand": [
                    "fastqc"
                ],
                "inputs": [
                    {
                        "id": "fastq1",
                        "type": "File",
                        "inputBinding": {
                            "position": 0
                        }
                    },
                    {
                        "id": "fastq2",
                        "type": "File",
                        "inputBinding": {
                            "position": 0
                        }
                    }
                ],
                "outputs": [],
                "label": "fastQc",
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "maxulysse/fastqc:latest"
                    }
                ]
            },
            "label": "fastQc",
            "sbg:x": 522.3973388671875,
            "sbg:y": 514.078125
        },
        {
            "id": "bwa_mem_0_7_15",
            "in": [
                {
                    "id": "fastq1",
                    "source": "trimmomatic_nugen/r1_paired"
                },
                {
                    "id": "fastq2",
                    "source": "trimmomatic_nugen/r2_paired"
                },
                {
                    "id": "ref_seq",
                    "source": "ref_seq"
                },
                {
                    "id": "sam_name",
                    "source": "sam_name"
                }
            ],
            "out": [
                {
                    "id": "output_sam"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "bwa_mem_0_7_15",
                "baseCommand": [
                    "bwa",
                    "mem"
                ],
                "inputs": [
                    {
                        "id": "fastq1",
                        "type": "File",
                        "inputBinding": {
                            "position": 2
                        },
                        "doc": "fastq"
                    },
                    {
                        "id": "fastq2",
                        "type": "File",
                        "inputBinding": {
                            "position": 3
                        },
                        "doc": "optional second fastq file"
                    },
                    {
                        "id": "ref_seq",
                        "type": "File",
                        "inputBinding": {
                            "position": 1
                        },
                        "doc": "reference seq",
                        "secondaryFiles": [
                            ".amb",
                            ".ann",
                            ".bwt",
                            ".pac",
                            ".sa"
                        ]
                    },
                    {
                        "id": "sam_name",
                        "type": "string"
                    }
                ],
                "outputs": [
                    {
                        "id": "output_sam",
                        "doc": "Alignments in SAM format",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.sam_name)"
                        }
                    }
                ],
                "doc": "BwaMem",
                "label": "bwa mem v0.7.5",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "",
                        "valueFrom": "-M"
                    },
                    {
                        "position": 0,
                        "prefix": "",
                        "valueFrom": "-a"
                    },
                    {
                        "position": 0,
                        "prefix": "-v",
                        "valueFrom": "3"
                    },
                    {
                        "position": 0,
                        "prefix": "-t",
                        "valueFrom": "20"
                    },
                    {
                        "position": 0,
                        "prefix": "-k",
                        "valueFrom": "20"
                    },
                    {
                        "position": 0,
                        "prefix": "-r",
                        "valueFrom": "0.02"
                    },
                    {
                        "position": 0,
                        "prefix": "-w",
                        "valueFrom": "200"
                    }
                ],
                "requirements": [
                    {
                        "class": "ResourceRequirement",
                        "ramMin": 10000,
                        "coresMin": 8
                    },
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "biocontainers/bwa:0.7.15"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ],
                "stdout": "$(inputs.sam_name)"
            },
            "label": "bwa mem v0.7.5",
            "sbg:x": 522.3973388671875,
            "sbg:y": 649.09375
        },
        {
            "id": "trimmomatic_nugen",
            "in": [
                {
                    "id": "fastq1",
                    "source": "fastq1"
                },
                {
                    "id": "illumina_adapters_file",
                    "source": "illumina_adapters_file"
                },
                {
                    "id": "fastq2",
                    "source": "fastq2"
                }
            ],
            "out": [
                {
                    "id": "r1_paired"
                },
                {
                    "id": "r1_unpaired"
                },
                {
                    "id": "r2_paired"
                },
                {
                    "id": "r2_unpaired"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "trimmomatic_nugen",
                "baseCommand": [
                    "/usr/bin/java",
                    "-jar",
                    "/software/applications/Trimmomatic/0.36/trimmomatic-0.36.jar",
                    "PE"
                ],
                "inputs": [
                    {
                        "id": "fastq1",
                        "type": "File",
                        "inputBinding": {
                            "position": 1
                        }
                    },
                    {
                        "id": "illumina_adapters_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 7,
                            "prefix": "ILLUMINACLIP:",
                            "separate": false,
                            "valueFrom": "$(inputs.illumina_adapters_file.path):1:30:10"
                        }
                    },
                    {
                        "id": "fastq2",
                        "type": "File",
                        "inputBinding": {
                            "position": 2
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "r1_paired",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.fastq1.nameroot)_paired_trimmed.fastq.gz"
                        }
                    },
                    {
                        "id": "r1_unpaired",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.fastq1.nameroot)_unpaired_trimmed.fastq.gz"
                        }
                    },
                    {
                        "id": "r2_paired",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.fastq2.nameroot)_paired_trimmed.fastq.gz"
                        }
                    },
                    {
                        "id": "r2_unpaired",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.fastq2.nameroot)_unpaired_trimmed.fastq.gz"
                        }
                    }
                ],
                "label": "trimmomatic_NuGen",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "-threads",
                        "valueFrom": "24"
                    },
                    {
                        "position": 0,
                        "prefix": "-trimlog",
                        "valueFrom": "trimlog_file.txt"
                    },
                    {
                        "position": 3,
                        "prefix": "",
                        "valueFrom": "$(inputs.fastq1.nameroot)_paired_trimmed.fastq.gz"
                    },
                    {
                        "position": 10,
                        "prefix": "MINLEN:",
                        "separate": false,
                        "valueFrom": "70"
                    },
                    {
                        "position": 8,
                        "prefix": "LEADING:",
                        "separate": false,
                        "valueFrom": "20"
                    },
                    {
                        "position": 9,
                        "prefix": "TRAILING:",
                        "separate": false,
                        "valueFrom": "20"
                    },
                    {
                        "position": 4,
                        "prefix": "",
                        "valueFrom": "$(inputs.fastq1.nameroot)_unpaired_trimmed.fastq.gz"
                    },
                    {
                        "position": 5,
                        "prefix": "",
                        "valueFrom": "$(inputs.fastq2.nameroot)_paired_trimmed.fastq.gz"
                    },
                    {
                        "position": 6,
                        "prefix": "",
                        "valueFrom": "$(inputs.fastq2.nameroot)_unpaired_trimmed.fastq.gz"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "comics/trimmomatic:latest"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "trimmomatic_NuGen",
            "sbg:x": 223.015625,
            "sbg:y": 400.0625
        },
        {
            "id": "fastqc_1",
            "in": [
                {
                    "id": "fastq1",
                    "source": "fastq1"
                },
                {
                    "id": "fastq2",
                    "source": "fastq2"
                }
            ],
            "out": [],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "fastqc",
                "baseCommand": [
                    "fastqc"
                ],
                "inputs": [
                    {
                        "id": "fastq1",
                        "type": "File",
                        "inputBinding": {
                            "position": 0
                        }
                    },
                    {
                        "id": "fastq2",
                        "type": "File",
                        "inputBinding": {
                            "position": 0
                        }
                    }
                ],
                "outputs": [],
                "label": "fastQc",
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "maxulysse/fastqc:latest"
                    }
                ]
            },
            "label": "fastQc",
            "sbg:x": 223.015625,
            "sbg:y": 535.078125
        },
        {
            "id": "samtools_view",
            "in": [
                {
                    "id": "aligned_sam",
                    "source": "bwa_mem_0_7_15/output_sam"
                }
            ],
            "out": [
                {
                    "id": "aligned_bam"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "samtools_view",
                "baseCommand": [
                    "samtools",
                    "view"
                ],
                "inputs": [
                    {
                        "id": "aligned_sam",
                        "type": "File",
                        "inputBinding": {
                            "position": 0
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "aligned_bam",
                        "type": "File",
                        "outputBinding": {
                            "glob": "*.bam"
                        }
                    }
                ],
                "label": "samtools_view",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "",
                        "valueFrom": "-Sb"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "biocontainers/samtools:1.3.1"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ],
                "stdout": "$(inputs.aligned_sam.nameroot).bam"
            },
            "label": "samtools_view",
            "sbg:x": 762.499755859375,
            "sbg:y": 481.5703125
        },
        {
            "id": "samtools_sort",
            "in": [
                {
                    "id": "aligned_bam",
                    "source": "samtools_view/aligned_bam"
                }
            ],
            "out": [
                {
                    "id": "sorted"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "samtools_sort",
                "baseCommand": [
                    "samtools",
                    "sort"
                ],
                "inputs": [
                    {
                        "id": "aligned_bam",
                        "type": "File",
                        "inputBinding": {
                            "position": 0
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "sorted",
                        "type": "File",
                        "outputBinding": {
                            "glob": "*_sorted.bam"
                        }
                    }
                ],
                "label": "samtools_sort",
                "arguments": [
                    {
                        "position": 1,
                        "prefix": "-o",
                        "valueFrom": "$(inputs.aligned_bam.nameroot)_sorted.bam"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "biocontainers/samtools:1.3.1"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "samtools_sort",
            "sbg:x": 989.827880859375,
            "sbg:y": 374.5546875
        },
        {
            "id": "picard_addorreplacereadgroups",
            "in": [
                {
                    "id": "sorted_dedup_bam",
                    "source": "samtools_sort/sorted"
                },
                {
                    "id": "Library",
                    "source": "Library"
                },
                {
                    "id": "Platform",
                    "source": "Platform"
                },
                {
                    "id": "Barcode",
                    "source": "Barcode"
                },
                {
                    "id": "Sample",
                    "source": "Sample"
                }
            ],
            "out": [
                {
                    "id": "dedup_RG_bam"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "picard_addorreplacereadgroups",
                "baseCommand": [
                    "gatk",
                    "AddOrReplaceReadGroups"
                ],
                "inputs": [
                    {
                        "id": "sorted_dedup_bam",
                        "type": "File",
                        "inputBinding": {
                            "position": 1,
                            "prefix": "-I"
                        }
                    },
                    {
                        "id": "Library",
                        "type": "string",
                        "inputBinding": {
                            "position": 4,
                            "prefix": "-LB"
                        }
                    },
                    {
                        "id": "Platform",
                        "type": "string",
                        "inputBinding": {
                            "position": 6,
                            "prefix": "-PL"
                        }
                    },
                    {
                        "id": "Barcode",
                        "type": "string",
                        "inputBinding": {
                            "position": 8,
                            "prefix": "-PU"
                        }
                    },
                    {
                        "id": "Sample",
                        "type": "string",
                        "inputBinding": {
                            "position": 10,
                            "prefix": "-SM"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "dedup_RG_bam",
                        "type": "File",
                        "outputBinding": {
                            "glob": "*RG.bam"
                        }
                    }
                ],
                "label": "picard_AddOrReplaceReadGroups",
                "arguments": [
                    {
                        "position": 2,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.sorted_dedup_bam.nameroot).RG.bam"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "picard_AddOrReplaceReadGroups",
            "sbg:x": 1183.343505859375,
            "sbg:y": 346.5546875
        },
        {
            "id": "samtools_index_bam",
            "in": [
                {
                    "id": "bam_file",
                    "source": "picard_addorreplacereadgroups/dedup_RG_bam"
                }
            ],
            "out": [],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "samtools_index_bam",
                "baseCommand": [
                    "samtools",
                    "index",
                    "-b"
                ],
                "inputs": [
                    {
                        "id": "bam_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 0
                        }
                    }
                ],
                "outputs": [],
                "label": "samtools_index_bam",
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "biocontainers/samtools:1.3.1"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ],
                "stdout": "$(inputs.bam_file.basename).bai"
            },
            "label": "samtools_index_bam",
            "sbg:x": 1499.60546875,
            "sbg:y": 332.5546875
        },
        {
            "id": "gatk_bqsr_table_create",
            "in": [
                {
                    "id": "bam_dedup_RG",
                    "source": "picard_addorreplacereadgroups/dedup_RG_bam"
                },
                {
                    "id": "ref_file",
                    "source": "ref_seq"
                },
                {
                    "id": "dbSNP_vcf",
                    "source": "dbSNP_vcf"
                },
                {
                    "id": "bed_file",
                    "source": "bed_file"
                }
            ],
            "out": [
                {
                    "id": "output"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "gatk_bqsr_table_create",
                "baseCommand": [
                    "gatk",
                    "BaseRecalibrator"
                ],
                "inputs": [
                    {
                        "id": "bam_dedup_RG",
                        "type": "File",
                        "inputBinding": {
                            "position": 1,
                            "prefix": "-I"
                        }
                    },
                    {
                        "id": "ref_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 3,
                            "prefix": "-R"
                        }
                    },
                    {
                        "id": "dbSNP_vcf",
                        "type": "File",
                        "inputBinding": {
                            "position": 5,
                            "prefix": "--known-sites"
                        }
                    },
                    {
                        "id": "bed_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 11,
                            "prefix": "-L"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "output",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.bam_dedup_RG.nameroot).rgb"
                        }
                    }
                ],
                "label": "gatk_BQSR_table_create",
                "arguments": [
                    {
                        "position": 7,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.bam_dedup_RG.nameroot).rgb"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "gatk_BQSR_table_create",
            "sbg:x": 1499.60546875,
            "sbg:y": 460.5703125
        },
        {
            "id": "gatk__apply_b_q_s_r",
            "in": [
                {
                    "id": "bam_dedup_RG",
                    "source": "picard_addorreplacereadgroups/dedup_RG_bam"
                },
                {
                    "id": "ref_file",
                    "source": "ref_seq"
                },
                {
                    "id": "recal_data_table",
                    "source": "gatk_bqsr_table_create/output"
                },
                {
                    "id": "bed_file",
                    "source": "bed_file"
                }
            ],
            "out": [
                {
                    "id": "output_bqsr_bam"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "gatk__apply_b_q_s_r",
                "baseCommand": [
                    "gatk",
                    "ApplyBQSR"
                ],
                "inputs": [
                    {
                        "id": "bam_dedup_RG",
                        "type": "File",
                        "inputBinding": {
                            "position": 1,
                            "prefix": "-I"
                        }
                    },
                    {
                        "id": "ref_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 3,
                            "prefix": "-R"
                        }
                    },
                    {
                        "id": "recal_data_table",
                        "type": "File",
                        "inputBinding": {
                            "position": 5,
                            "prefix": "-bqsr"
                        }
                    },
                    {
                        "id": "bed_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 11,
                            "prefix": "-L"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "output_bqsr_bam",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.bam_dedup_RG.nameroot).BQSR.bam"
                        }
                    }
                ],
                "label": "gatk_ApplyBQSR",
                "arguments": [
                    {
                        "position": 7,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.bam_dedup_RG.nameroot).BQSR.bam"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "gatk_ApplyBQSR",
            "sbg:x": 1499.60546875,
            "sbg:y": 609.5859375
        },
        {
            "id": "gatk_bqsr_table_create_1",
            "in": [
                {
                    "id": "bam_dedup_RG",
                    "source": "gatk__apply_b_q_s_r/output_bqsr_bam"
                },
                {
                    "id": "ref_file",
                    "source": "ref_seq"
                },
                {
                    "id": "dbSNP_vcf",
                    "source": "dbSNP_vcf"
                },
                {
                    "id": "bed_file",
                    "source": "bed_file"
                }
            ],
            "out": [
                {
                    "id": "output"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "gatk_bqsr_table_create",
                "baseCommand": [
                    "gatk",
                    "BaseRecalibrator"
                ],
                "inputs": [
                    {
                        "id": "bam_dedup_RG",
                        "type": "File",
                        "inputBinding": {
                            "position": 1,
                            "prefix": "-I"
                        }
                    },
                    {
                        "id": "ref_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 3,
                            "prefix": "-R"
                        }
                    },
                    {
                        "id": "dbSNP_vcf",
                        "type": "File",
                        "inputBinding": {
                            "position": 5,
                            "prefix": "--known-sites"
                        }
                    },
                    {
                        "id": "bed_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 11,
                            "prefix": "-L"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "output",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.bam_dedup_RG.nameroot).rgb"
                        }
                    }
                ],
                "label": "gatk_BQSR_table_create",
                "arguments": [
                    {
                        "position": 7,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.bam_dedup_RG.nameroot).rgb"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "gatk_BQSR_table_create",
            "sbg:x": 1811.460693359375,
            "sbg:y": 474.5703125
        },
        {
            "id": "gatk_analyzecovariates",
            "in": [
                {
                    "id": "recal_table",
                    "source": "gatk_bqsr_table_create/output"
                },
                {
                    "id": "post_recal_table",
                    "source": "gatk_bqsr_table_create_1/output"
                }
            ],
            "out": [
                {
                    "id": "plots_pdf"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "gatk_analyzecovariates",
                "baseCommand": [
                    "gatk",
                    "AnalyzeCovariates"
                ],
                "inputs": [
                    {
                        "id": "recal_table",
                        "type": "File",
                        "inputBinding": {
                            "position": 3,
                            "prefix": "-before"
                        }
                    },
                    {
                        "id": "post_recal_table",
                        "type": "File",
                        "inputBinding": {
                            "position": 5,
                            "prefix": "-after"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "plots_pdf",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$*.pdf"
                        }
                    }
                ],
                "label": "gatk_AnalyzeCovariates",
                "arguments": [
                    {
                        "position": 6,
                        "prefix": "-plots",
                        "valueFrom": "$(inputs.recal_table.nameroot).plots.pdf"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "gatk_AnalyzeCovariates",
            "sbg:x": 1811.460693359375,
            "sbg:y": 609.5859375
        },
        {
            "id": "gatk_mutect2_tumoronly_with__po_n",
            "in": [
                {
                    "id": "ref_fasta",
                    "source": "ref_seq"
                },
                {
                    "id": "BQSR2_bam",
                    "source": "gatk__apply_b_q_s_r/output_bqsr_bam"
                },
                {
                    "id": "bed_file",
                    "source": "bed_file"
                },
                {
                    "id": "sample_name",
                    "source": "Sample"
                },
                {
                    "id": "gnomad_vcf",
                    "source": "gnomad_vcf"
                },
                {
                    "id": "PoN_vcf",
                    "source": "PoN_vcf"
                }
            ],
            "out": [
                {
                    "id": "vcf"
                },
                {
                    "id": "f1r2"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "gatk_mutect2_tumoronly_with__po_n",
                "baseCommand": [
                    "gatk",
                    "Mutect2"
                ],
                "inputs": [
                    {
                        "id": "ref_fasta",
                        "type": "File",
                        "inputBinding": {
                            "position": 1,
                            "prefix": "-R"
                        }
                    },
                    {
                        "id": "BQSR2_bam",
                        "type": "File",
                        "inputBinding": {
                            "position": 3,
                            "prefix": "-I"
                        }
                    },
                    {
                        "id": "bed_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 11,
                            "prefix": "-L"
                        }
                    },
                    {
                        "id": "sample_name",
                        "type": "string",
                        "inputBinding": {
                            "position": 5,
                            "prefix": "-tumor"
                        }
                    },
                    {
                        "id": "gnomad_vcf",
                        "type": "File",
                        "inputBinding": {
                            "position": 7,
                            "prefix": "--germline-resource"
                        }
                    },
                    {
                        "id": "PoN_vcf",
                        "type": "File",
                        "inputBinding": {
                            "position": 9,
                            "prefix": "--panel-of-normals"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "vcf",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.sample_name).vcf"
                        }
                    },
                    {
                        "id": "f1r2",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.sample_name).f1r2.tar.gz"
                        }
                    }
                ],
                "label": "gatk_Mutect2_tumorOnly_with_PoN",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "--af-of-alleles-not-in-resource",
                        "valueFrom": "0.00003125"
                    },
                    {
                        "position": 0,
                        "prefix": "--f1r2-tar-gz",
                        "valueFrom": "$(inputs.sample_name).f1r2.tar.gz"
                    },
                    {
                        "position": 0,
                        "prefix": "-max-reads-per-alignment-start",
                        "valueFrom": "0"
                    },
                    {
                        "position": 0,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.sample_name).vcf"
                    }
                ],
                "requirements": [
                    {
                        "class": "ResourceRequirement",
                        "ramMin": 8000,
                        "coresMin": 1
                    },
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "gatk_Mutect2_tumorOnly_with_PoN",
            "sbg:x": 1811.460693359375,
            "sbg:y": 311.5546875
        },
        {
            "id": "gatk_learnreadorientationmodel",
            "in": [
                {
                    "id": "f1r2",
                    "source": "gatk_mutect2_tumoronly_with__po_n/f1r2"
                }
            ],
            "out": [
                {
                    "id": "orientation_model"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "gatk_learnreadorientationmodel",
                "baseCommand": [
                    "gatk",
                    "LearnReadOrientationModel"
                ],
                "inputs": [
                    {
                        "id": "f1r2",
                        "type": "File",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "-I"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "orientation_model",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.f1r2.nameroot).read-orientation-model.tar.gz"
                        }
                    }
                ],
                "label": "gatk_LearnReadOrientationModel",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.f1r2.nameroot).read-orientation-model.tar.gz"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "gatk_LearnReadOrientationModel",
            "sbg:x": 2060.148193359375,
            "sbg:y": 360.5546875
        },
        {
            "id": "gatk_filtermutectcalls",
            "in": [
                {
                    "id": "ref_file",
                    "source": "ref_seq"
                },
                {
                    "id": "vcf_file",
                    "source": "gatk_mutect2_tumoronly_with__po_n/vcf"
                },
                {
                    "id": "orientation_model",
                    "source": "gatk_learnreadorientationmodel/orientation_model"
                }
            ],
            "out": [
                {
                    "id": "filtered_vcf"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "gatk_filtermutectcalls",
                "baseCommand": [
                    "gatk",
                    "FilterMutectCalls"
                ],
                "inputs": [
                    {
                        "id": "ref_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "-R"
                        }
                    },
                    {
                        "id": "vcf_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "-V"
                        }
                    },
                    {
                        "id": "orientation_model",
                        "type": "File",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "--ob-priors"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "filtered_vcf",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.vcf_file.nameroot)_filtered.vcf"
                        }
                    }
                ],
                "label": "gatk_FilterMutectCalls",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.vcf_file.nameroot)_filtered.vcf"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "broadinstitute/gatk:4.1.2.0"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "gatk_FilterMutectCalls",
            "sbg:x": 2060.148193359375,
            "sbg:y": 481.5703125
        },
        {
            "id": "myfiltervcf",
            "in": [
                {
                    "id": "vcf",
                    "source": "gatk_filtermutectcalls/filtered_vcf"
                },
                {
                    "id": "Depth",
                    "source": "Depth"
                },
                {
                    "id": "AF",
                    "source": "AF"
                }
            ],
            "out": [
                {
                    "id": "vcf_applied_filters"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "myfiltervcf",
                "baseCommand": [
                    "perl",
                    "/opt/filter_vcf.pl"
                ],
                "inputs": [
                    {
                        "id": "vcf",
                        "type": "File",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "-I"
                        }
                    },
                    {
                        "id": "Depth",
                        "type": "string",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "-D"
                        }
                    },
                    {
                        "id": "AF",
                        "type": "string",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "-A"
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "vcf_applied_filters",
                        "type": "File?",
                        "outputBinding": {
                            "glob": "$(inputs.vcf.nameroot)_finalVariants.vcf"
                        }
                    }
                ],
                "label": "myFilterVcf",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "-F",
                        "valueFrom": "panel_of_normals"
                    },
                    {
                        "position": 0,
                        "prefix": "-O",
                        "valueFrom": "$(inputs.vcf.nameroot)_finalVariants.vcf"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "teoloup/myfiltervcf:latest"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "myFilterVcf",
            "sbg:x": 2322.893798828125,
            "sbg:y": 642.09375
        },
        {
            "id": "vep_annotation",
            "in": [
                {
                    "id": "VEP_cache_path",
                    "source": "VEP_cache_path"
                },
                {
                    "id": "vcf_file",
                    "source": "myfiltervcf/vcf_applied_filters"
                },
                {
                    "id": "plugin_name",
                    "source": "plugin_name"
                },
                {
                    "id": "plugins_path",
                    "source": "plugins_path"
                },
                {
                    "id": "output_type",
                    "source": "output_type"
                }
            ],
            "out": [
                {
                    "id": "output"
                }
            ],
            "run": {
                "class": "CommandLineTool",
                "cwlVersion": "v1.0",
                "$namespaces": {
                    "sbg": "https://www.sevenbridges.com/"
                },
                "id": "vep_annotation",
                "baseCommand": [
                    "vep"
                ],
                "inputs": [
                    {
                        "id": "VEP_cache_path",
                        "type": "Directory",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "--dir"
                        }
                    },
                    {
                        "id": "vcf_file",
                        "type": "File",
                        "inputBinding": {
                            "position": 1,
                            "prefix": "--input_file"
                        }
                    },
                    {
                        "id": "plugin_name",
                        "type": "string?",
                        "inputBinding": {
                            "position": 5,
                            "prefix": "--plugin"
                        }
                    },
                    {
                        "id": "plugins_path",
                        "type": "Directory?",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "--dir_plugins"
                        }
                    },
                    {
                        "id": "output_type",
                        "type": "string",
                        "inputBinding": {
                            "position": 0,
                            "prefix": "--",
                            "separate": false
                        }
                    }
                ],
                "outputs": [
                    {
                        "id": "output",
                        "type": "File",
                        "outputBinding": {
                            "glob": "$(inputs.vcf_file.nameroot)_VEPann.vcf"
                        }
                    }
                ],
                "label": "VEP_annotation",
                "arguments": [
                    {
                        "position": 0,
                        "prefix": "-",
                        "separate": false,
                        "valueFrom": "-offline"
                    },
                    {
                        "position": 0,
                        "prefix": "-",
                        "separate": false,
                        "valueFrom": "-symbol"
                    },
                    {
                        "position": 0,
                        "prefix": "-",
                        "separate": false,
                        "valueFrom": "-pick"
                    },
                    {
                        "position": 0,
                        "prefix": "-",
                        "separate": false,
                        "valueFrom": "-canonical"
                    },
                    {
                        "position": 0,
                        "prefix": "-",
                        "separate": false,
                        "valueFrom": "-everything"
                    },
                    {
                        "position": 0,
                        "prefix": "--format",
                        "valueFrom": "vcf"
                    },
                    {
                        "position": 2,
                        "prefix": "--output_file",
                        "valueFrom": "$(inputs.vcf_file.nameroot)_VEPann.vcf"
                    }
                ],
                "requirements": [
                    {
                        "class": "DockerRequirement",
                        "dockerPull": "ensemblorg/ensembl-vep:latest"
                    },
                    {
                        "class": "InlineJavascriptRequirement"
                    }
                ]
            },
            "label": "VEP_annotation",
            "sbg:x": 2569.753173828125,
            "sbg:y": 453.5703125
        }
    ],
    "requirements": []
}